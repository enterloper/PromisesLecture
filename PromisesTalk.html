<!DOCTYPE html>
<html>
<head>
  <title>Promises Talk</title>
</head>
<body>
  <h1>Let's Talk About Promises</h1>
  <div>
    <h2>What is a promise?</h2>
    <p>The core idea behind promises is that a promise represents the result of an asynchronous operation. A promise is in one of three different states:</p>
    <ul>
      <li>pending - The initial state of a promise.</li>
      <li>fulfilled - The state of a promise representing a successful operation.</li>
      <li>rejected - The state of a promise representing a failed operation.</li>
    </ul>
    <p>Once a promise is fulfilled or rejected, it is immutable (i.e. it can never change again).</p>
  </div>
  <div>
    <h2>Constructing a promise</h2>
    <p>Once all of the APIs return promises, it should be relatively rare that you need to construct one by hand. In the meantime, we need a way to polyfill existing APIs.</p>
    <p>We use <span style= "color:tomato; background: #ffe5e1; padding: 2px; border-radius: 5px;">new Promise</span> to construct the promise. We give the constructor a factory function which does the actual work. This function is called immediately with two arguments. The first argument fulfills the promise and the second argument rejects the promise. Once the operation has completed, we call the appropriate function.</p>
  </div>
  <div>
    <h2>jQuery</h2>
    <p>This feels like a good time to warn you that what jQuery calls a promise is in fact totally different to what everyone else calls a promise. jQuery's promises have a poorly thought out API that will likely just confuse you. Fortunately, instead of using jQuery's strange version of a promise, you can just convert it to a really simple standardised promise:</p>
    <code>var jQueryPromise = $.ajax('/data.json'); </br>
          var realPromise = Promise.resolve(jQUeryPromoise</code>
  </div>
  <div>
    <h2>Browsers</h2>
    <p>Promises are currently only supported by a pretty small selection of browsers, we can check compatibility here: <a target = "_blank" href="http://kangax.github.io/compat-table/es6/">kangax</a>. The good news is that they're extremely easy to polyfill: </p>
    <code><script src="https://www.promisejs.org/polyfills/promise-7.0.4.min.js"></script></code>
  </div>
  <div>
    <h2>Node.js</h2>
    <p>It's generally not seen as good practice to polyfill things in node.js. Instead, you're better off just requiring the library wherever you need it.</p>
    <p>Install the <a target = "_blank" href="https://github.com/then/promise">promise library</a> via npm</p>
    <code>var Promise = require('promise');</code>
  </div>

  </br>
  <script type="text/javascript" src="src/PromisesTalk.js"></script>
  <footer>&copy Richard Boothe</footer>
</body>
</html>